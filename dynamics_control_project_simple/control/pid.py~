"""PID Controller ."""

from dataclasses import dataclass


@dataclass
class PID:
    """Initialize PID controller."""

    kp: float
    ki: float
    kd: float
    integral: float = 0.0
    prev_error: float = 0.0

    def compute(self, error: float, dt: float) -> float:
        """Compute PID COntrol."""
        self.integral += error * dt
        derivative = (error - self.prev_error) / dt if dt > 0 else 0.0
        self.prev_error = error
        return self.kp * error + self.ki * self.integral + self.kd * derivative
